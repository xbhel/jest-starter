# JavaScript 单元测试

> 翻译自 https://www.browserstack.com/guide/unit-testing-in-javascript

在测试领域，测试单个功能与端到端（end-to-end）的测试整个应用完全不同，虽然这两者同样重要。测试每个功能（也称为单元）对于确保应用程序中的每个功能都按预期执行是必要的，这也是单元测试的用武之地。

由于 JavaScript 是一种用于开发 Web 应用程序的流行编程语言，因此有必要了解如何在 JavaScript 中执行单元测试。本文将探讨如何执行这些测试、在哪里执行以及为什么。

## 什么是单元测试

单元测试用于验证系统中软件单元的行为，它用于验证代码库中的一小部分独立的代码（也称为单元）的行为是否符合开发人员的预期。

单元测试验证的是一个应用中最小的部分或者组件，通过将在完全隔离下的预期行为和实际行为相比较。这里 “完全隔离” 意味着，在单元测试期间，开发人员不会将应用与外部依赖连接起来，例如数据库、文件系统、HTTP 服务，这样能够让单元测试更快更稳定，因为它们不会由于与这些外部服务集成的问题而导致失败。

## 为什么编写单元测试

通常，开发人员先编写单元测试，然后再编写软件代码，这种方式就是著名的 TDD（test-driven development），在 TDD 中，需求将被转换为特定的测试案例，然后完善软件让它通过这些测试案例。<u>在单元测试的情况下，它允许在不影响其他单元或整个软件的功能的情况下修改代码</u>，这使开发人员的工作更容易，因为在这个阶段很容易找到错误，从而节省时间和金钱。

> 单元测试的要求你修改的代码必须能够通过之前所有的单元测试，如果不能通过，而且你不能立即修复，那么应该回滚它（因为在你修改之前功能是好的，那么说明你这次的修改不正确），以便于确保它不会影响到其他单元或整个软件的功能。

此外，在单元测试环境中，产品的各个模块彼此隔离，并有自己的职责范围，在这种情况下，测试是更加可靠，因为它们是在封闭的环境中运行。同样由于测试更可靠，这也能让代码更加可靠。

除了上面所说的这些方面，单元测试还有以下好处：

- 单元测试有助于更快更简单的发现和修复 bug。
- 单元测试有助于提高代码质量。
- 单元测试有助于更好的应用程序架构。
- 单元测试充当文档。